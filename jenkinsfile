pipeline {
    agent any

    stages {
        stage("Integration Code") {
            steps {
                script {
                    // Define a label for the node
                    def myLabel = 'my-node-label'

                    // Run on a specific labeled node
                    node('Built-In Node') {
                        git 'https://github.com/R807989/main-hrm.git'
                    }
                }
            }
        }

        stage("Install Dependencies") {
            steps {
                script {
                    // Define a label for the node
                    def myLabel = ''Built-In Node''

                    // Run on a specific labeled node
                    node(myLabel) {
                        // Use the NodeJS tool configured in Jenkins
                        tools {
                            nodejs "nodeJS"
                        }

                        // Install dependencies
                        sh 'npm install'
                        echo "Installed"
                    }
                }
            }
        }
    }
}
